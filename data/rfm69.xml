<?xml version="1.0" encoding="UTF-8" ?>
<device>

<sname>RFM69</sname>
<name>RFM69 Radio Module</name>
<manufacturer>HopeRF</manufacturer>
<datasheet-url></datasheet-url>

<description>
HopeRF RFM69/RFM69HW radio module
</description>


<register>
<sname>OPMODE</sname>
<name>Operation Mode</name>
<address>0x01</address>

<bitfield bit="7" rwmode="rw">
<sname>SequencerOff</sname>
<description>Controls the automatic Sequencer (see section 4.2)</description>
<fieldvalue default="true"><value>0</value><name>Operating mode as selected with 
    <ref>OpMode.Mode</ref> is automatically reached with the Sequencer
</name></fieldvalue>
<fieldvalue><value>1</value><name>Mode is forced by user</name></fieldvalue>
</bitfield>

<bitfield bit="6" rwmode="rw">
<sname>ListenOn</sname>
<description>Enables Listen Mode, should be enabled whilst in Standby mode.</description>
<fieldvalue><value>0</value><sname>OFF</sname></fieldvalue>
<fieldvalue><value>1</value><sname>ON</sname></fieldvalue>
</bitfield>

<bitfield bit="4:2" rwmode="rw">
<sname>Mode</sname>
<description>Tranceiver's operating mode</description>
<reference>section 6.2</reference>
<fieldvalue><value>0</value><sname>SLEEP</sname><name>Sleep mode</name></fieldvalue>
<fieldvalue><value>1</value><sname>STDBY</sname><name>Standby mode</name></fieldvalue>
<fieldvalue><value>2</value><sname>FS</sname><name>Frequency Synthesis mode</name></fieldvalue>
<fieldvalue><value>3</value><sname>TX</sname><name>Transmitter mode</name></fieldvalue>
<fieldvalue><value>4</value><sname>RX</sname><name>Receiver mode</name></fieldvalue>
</bitfield>

</register>

<register>
<sname>DataModul</sname>
<name>Data Modulation</name>
<address>0x02</address>
<bitfield bit="6:5" rwmode="rw">
<sname>DataMode</sname>
<description>Data processing mode</description>
<fieldvalue><value>0</value><sname>Packet</sname><name>Packet mode</name></fieldvalue>
<fieldvalue><value>2</value><sname>ContinuousBitSync</sname><name>Continuous mode with bit synchronizer</name></fieldvalue>
<fieldvalue><value>3</value><sname>Continuous</sname><name>Continuous without bit synchronizer</name></fieldvalue>
</bitfield>

<bitfield bit="4:3" rwmode="rw">
<sname>ModulationType</sname>
<description>Modulate type</description>
<fieldvalue><value>0</value><sname>FSK</sname><name>Frequency Shift Keying (FSK)</name></fieldvalue>
<fieldvalue><value>1</value><sname>OOK</sname><name>On-Off Keying</name></fieldvalue>
</bitfield>

<bitfield bit="1:0" rwmode="rw">
<sname>ModulationShaping</sname>
<description>Modulating shaping</description>
<fieldvalue><value>0</value><sname>None</sname><name>no shaping</name></fieldvalue>
<fieldvalue><value>1</value><sname>SHAPING_OPT1</sname><name>FSK: Gaussian filter, BT=1.0; OOK: fcutoff=BR</name></fieldvalue>
<fieldvalue><value>2</value><sname>SHAPING_OPT2</sname><name>FSK: Gaussian filter, BT=0.5; OOK: fcutoff=2BR</name></fieldvalue>
<fieldvalue><value>3</value><sname>SHAPING_OPT3</sname><name>FSK: Gaussian filter, BT=0.3; OOK: reserved</name></fieldvalue>
</bitfield>

</register>

<register>
<sname>BitRateMsb</sname>
<address>0x03</address>
<name>MSB of Bit Rate (Chip Rate when Manchesterencoing is enabled)</name>
<description></description>
<defaultvalue>0x1a</defaultvalue>
</register>

<register>
<sname>BitRateLsb</sname>
<address>0x04</address>
<name>LSB of Bit Rate (Chip Rate when Manchesterencoing is enabled)</name>
<description>BitRate = CrystalFreq / (BitRateMsb*256 + BitRateLsb)</description>
<defaultvalue>0x0b</defaultvalue>
</register>

<register>
<sname>FdevMsb</sname>
<address>0x05</address>
<name>MSB of frequency deviation</name>
<description>Bits 7,6 always 0.</description>
<defaultvalue>0</defaultvalue>
</register>

<register>
<sname>FdevMsb</sname>
<address>0x06</address>
<name>LSB of frequency deviation</name>
<description>Fdev = Fstep * (FdevMsb*256+FdevLsb)</description>
<defaultvalue>0x52</defaultvalue>
</register>

<register>
<sname>FrfMsb</sname>
<address>0x07</address>
<name>MSB of the RF carrier frequency</name>
<description></description>
<defaultvalue>0xe4</defaultvalue>
</register>
<register>
<sname>FrfMsb</sname>
<address>0x08</address>
<name>Middle byte of the RF carrier frequency</name>
<description></description>
<defaultvalue>0xc0</defaultvalue>
</register>
<register>
<sname>FrfLsb</sname>
<address>0x09</address>
<name>LSB of the RF carrier frequency</name>
<description>Frf = Fstep * (FrfMsb*65536 + FrfMid*256 + FrfLsb). Default value Frf=915MHz (32MHz crystal)</description>
<defaultvalue>0x0</defaultvalue>
</register>

<register>
<sname>Osc1</sname>
<address>0x0a</address>
<name>RS Oscillator configuration</name>
<bitfield bit="7" rwmode="w">
<sname>RcCalStart</sname>
<description>Triggers the calibration of the RC oscillator when set. Always reads 0. 
    RC calibration must be triggered in Standby mode.</description>
<fieldvalue><value>1</value><sname>Trig</sname><name></name></fieldvalue>
</bitfield>
<bitfield bit="6" rwmode="r">
<sname>RcCalDone</sname>
<description>Indicated if calibration is in progress (value 0) or done (value 1)</description>
<fieldvalue><value>0</value><sname>InProgress</sname><name></name></fieldvalue>
<fieldvalue><value>1</value><sname>Done</sname><name></name></fieldvalue>
</bitfield>
</register>

<register>
<sname>AfcCtrl</sname>
<address>0x0b</address>
<name>Automatic frequency control configuration</name>
<bitfield bit="5" rwmode="rw">
<sname>AfcLowBetaOn</sname>
<description>Improved AFC routine for signals with modulation index lower than 2. </description>
<fieldvalue><value>1</value><sname>Trig</sname><name></name></fieldvalue>
</bitfield>
<bitfield bit="6" rwmode="r">
<sname>RcCalDone</sname>
<description>Indicated if calibration is in progress (value 0) or done (value 1)</description>
<fieldvalue><value>0</value><sname>InProgress</sname><name></name></fieldvalue>
<fieldvalue><value>1</value><sname>Done</sname><name></name></fieldvalue>
</bitfield>
</register>

<register>
<sname>Listen1</sname>
<address>0x0d</address>
<name>Listen mode configuration</name>
<bitfield bit="7:6" rwmode="rw">
<sname>ListenResolIdle</sname>
<description>Resolution of Listen mode idle time (calibrated RC osc)</description>
<fieldvalue default="true"><value>1</value><sname>64_us</sname><name>64 µs</name></fieldvalue>
<fieldvalue><value>2</value><sname>4100_us</sname><name>4.1ms</name></fieldvalue>
<fieldvalue><value>3</value><sname>262_ms</sname><name>262ms</name></fieldvalue>
</bitfield>

<bitfield bit="5:4" rwmode="rw">
<sname>ListenResolRx</sname>
<description>Resolution of Listen mode Rx time (calibrated RC osc)</description>
<fieldvalue default="true"><value>1</value><sname>64_us</sname><name>64 µs</name></fieldvalue>
<fieldvalue><value>2</value><sname>4100_us</sname><name>4.1ms</name></fieldvalue>
<fieldvalue><value>3</value><sname>262_ms</sname><name>262ms</name></fieldvalue>
</bitfield>

<bitfield bit="3" rwmode="rw">
<sname>ListenCriteria</sname>
<description>Criteria for packet acceptance in Listen mode</description>
<fieldvalue default="true"><value>0</value><sname>GT_RSSI_THRESH</sname><name>signal strength is above  <ref>RssiThreshold</ref> </name></fieldvalue>
<fieldvalue><value>1</value><sname>GT_RSSI_THRESH_AND_SYNCADDR</sname><name>signal strength is above <ref>RssiThreshold</ref> and SyncAddress match</name></fieldvalue>
</bitfield>

<bitfield bit="2:1" rwmode="rw">
<sname>ListenEnd</sname>
<description>Action taken afteracceptance of apacket in Listen mode</description>
<fieldvalue><value>0</value><sname>OPT0</sname><name>stay in Rx (ref §4.3)</name></fieldvalue>
<fieldvalue default="true"><value>1</value><sname>OPT1</sname><name>stays in Rx until PayloadReady or Timeout</name></fieldvalue>
<fieldvalue><value>2</value><sname>OPT2</sname><name>stays in Rx until PayloadReady or Timeout interrupt. Listen mode then resumes in Idle state. FIFO content is lost at next Rx wakeup.</name></fieldvalue>
</bitfield>

</register>

<register>
<sname>Listen2</sname>
<address>0x0e</address>
<name>Listen mode configuration</name>    
<bitfield bit="7:0" rwmode="rw">
<sname>ListenCoefIdle</sname>
<description>Duration of the Idle phase in Listen mode. t_listen_idle=ListenCoefIdle*ListenResolIdle</description>
<defaultvalue>0xf5</defaultvalue>
</bitfield>
</register>


<register>
<sname>Listen3</sname>
<address>0x0f</address>
<name>Listen mode configuration</name>    
<bitfield bit="7:0" rwmode="rw">
<sname>ListenCoefRx</sname>
<description>Duration of the Rx phase in Listen mode (startup time included, see §4.2.3). t_listen_rx=ListenCoefRx*ListenResolRx</description>
<defaultvalue>0x20</defaultvalue>
</bitfield>
</register>

<register>
<sname>Version</sname>
<address>0x10</address>
<name>Version of chip</name>    
<bitfield bit="7:0" rwmode="r">
<sname>Version</sname>
<description>Chip version. Bits 7:4 give the full revision number, bits 3:0 the metal mask revision number.</description>
<defaultvalue>0x24</defaultvalue>
</bitfield>
</register>

<register>
<sname>PaLevel</sname>
<address>0x11</address>
<name>Power Amplifier (PA) power configuration</name>
<bitfield bit="7" rwmode="rw">
    <sname>Pa0On</sname>
    <name>Enables PA0</name>
    <fieldvalue><value>1</value><sname>ON</sname></fieldvalue>
</bitfield>
<bitfield bit="6" rwmode="rw">
    <sname>Pa1On</sname>
    <name>Enables PA1</name>
</bitfield>
<bitfield bit="5" rwmode="rw">
    <sname>Pa1On</sname>
    <name>Enables PA2</name>
</bitfield>
<bitfield bit="4:0" rwmode="rw">
    <sname>OutputPower</sname>
    <name>Output power setting in 1dB steps</name>
    <description>
        Pout = -18 + OutputPower[dBm] with PA0; 
        Pout = -18 + OutputPower[dBm] with PA1; 
        Pout = -14 + OutputPower[dBm] with PA1 and PA2;
        Pout = -11 + OutputPower[dBm] with PA1 and PA2 and high Power PA settings (ref §3.3.7);
    </description>
</bitfield>

</register>

<register>
    <sname>PaRamp</sname>
    <name>Rise/fall time of ramp up/down in FSK</name>
    <address>0x12</address>
    <bitfield bit="3:0" rwmode="rw">
        <fieldvalue><value>0</value><sname>3400us</sname></fieldvalue>
        <fieldvalue><value>1</value><sname>2000us</sname></fieldvalue>
        <fieldvalue><value>2</value><sname>1000us</sname></fieldvalue>
        <fieldvalue><value>3</value><sname>500us</sname></fieldvalue>
        <fieldvalue><value>4</value><sname>250us</sname></fieldvalue>
        <fieldvalue><value>5</value><sname>125us</sname></fieldvalue>
        <fieldvalue><value>6</value><sname>100us</sname></fieldvalue>
        <fieldvalue><value>7</value><sname>62us</sname></fieldvalue>
        <fieldvalue><value>8</value><sname>50us</sname></fieldvalue>
        <fieldvalue default="true"><value>9</value><sname>40us</sname></fieldvalue>
        <fieldvalue><value>10</value><sname>31us</sname></fieldvalue>
        <fieldvalue><value>11</value><sname>25us</sname></fieldvalue>
        <fieldvalue><value>12</value><sname>20us</sname></fieldvalue>
        <fieldvalue><value>13</value><sname>15us</sname></fieldvalue>
        <fieldvalue><value>14</value><sname>12us</sname></fieldvalue>
        <fieldvalue><value>15</value><sname>10us</sname></fieldvalue>
    </bitfield>
</register>

<register>
    <sname>Ocp</sname>
    <name>Over current protection (OCP) for the PA configuration</name>
    <bitfield bit="4" rwmode="rw">
        <sname>OcpOn</sname>
        <name>Enable OCP</name>
    </bitfield>
    <bitfield bit="3:0" rwmode="rw">
        <sname>OcpTrim</sname>
        <name>OCP current trim</name>
        <description>Imax (mA) = 45 + 5*OcpTrim. 95mA by default.</description>
        <defaultvalue>10</defaultvalue>
    </bitfield>
</register>
</device>
